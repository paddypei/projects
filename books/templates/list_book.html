<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">


<script src="/static/js/modernizr.js"></script>
<script src="/static/js/jquery.js"></script>
<script src="/static/js/mycookies.js"></script>
</head>
<body>
<div class="container">
    <form action="" method="post">
        {{ csrf_token }}
        <div class="row">
            <div class="span8 offset2">
                <div id="todo" class="well">
                <table class="table table-hover" id="data_table">
                    <thead>
                        <tr>
                            <td>
                                <h3 class="text-success">The Book List</h3>
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                    test
                    </tbody>
                </table>
                </div>
            </div>
        </div>
    </form>
</div>
</body>
</html>
<script type="text/javascript">

    function listAjaxBook()
    {
        console.log('ddd');
        var url = "{% url "list_book_data" %}";
        console.log('xxxxxxxx', url);
        $.ajax({
            url: url,
            type: 'post',
            dataType: 'json',
            success: function(json){
                console.log("xxx", json);
                if(json){
                    appendListData(json);
                }
            },
            error: function(params, response){

            }
        });
    }
    //加载数据
    function appendListData(data)
    {
        html = "";
        html += '<tr>'
             + '<td class="todo">11</td>'
             + '<td class="todo">33</td>'
             + '<td class="todo">44</td>'
             + '<td class="todo">55</td>'
             + '</tr>';
        $("#data_table tbody").html(html);
    }

$(function(){
    listAjaxBook();
});
</script>